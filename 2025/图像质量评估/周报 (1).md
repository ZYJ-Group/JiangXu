# 图像质量分级技术路线

## 路线分析
阅读论文后，发现图像质量评估主要方式有两方面，一个是基于基本图像特点在对比度、纹理等视觉基础上做的工作、二是**任务驱动的质量评估**，通过深度学习（对比学习等）提取图像特征向量对ISAR图像质量自动评估。

## 初步分案
结合传统方法对图像的边界、线条特征进行打分、考虑下游任务使用对比学习和分割网络在图像高级特征层面进行打分，最后加权形成图像质量分数，具体部分实现方案如下：

### 主要方法
#### (1) 传统方法
1.  **边缘/轮廓指标打分：** 考虑实际应用场景的ISAR图像质量的差异性（如帆板部分缺失不利于角点提取和部件分割），所以必须考虑基于轮廓完整的影响，考虑**部分边界缺失情况不是主要矛盾**并且对边界缺失检测高效，所以采用传统图像处理方法。
**技术路线：** 使用Canny边缘检测和Sobel算子对输入图像进行边缘提取，然后使用轮廓提取算法获取所有的轮廓线，统计边缘像素点数量与总像素数的比值，从而反映图像细节丰富度；再计算边缘区域的梯度强度均值和方差，衡量边缘清晰度和均匀性，分析轮廓线的长度、断裂点数量，评估轮廓的完整性，然后对计算的指标归一化加权得到评分。

2.  **几何先验一致性打分：** 考虑到遮挡情况下或成像原因缺失的帆板问题，需要利用航天器丰富的线性结构进行先验对比。
**技术路线（还在寻找实现）：** 利用霍夫变换检测显著的直线（**因为成像质量高的图像的姿态结构显著**），再去分析直线结构与先验结构的相似度，进行一个打分。 

#### (2) 深度学习方法
1.  **轮廓感知深度网络：** 高质量图片的特征向量会聚集在特征空间的某一块区域，而低质量的特征向量会聚集在另一块区域；
**技术路线：** 通过训练CNN特征提取网络（按照任务驱动原则设置成关键点特征）提取高级特征，通过对比学习学习表征图像质量的特征，然后再进行特征的聚类分成两类（好和坏），再计算这两类的特征分布均值，以好坏特征中心为基准计算图像特征空间分布距离，进行打分。

2.  **分割可行性评估（SAM）：** 因为后续要进行部件分割，所以以任务驱动进行一个预分割打分，作为分级指标。
**技术路线：** 利用SAM的权重去分割图像计算（掩码重合度、和之间提取的边界进行对比、计算凸包率）对图像进行打分。

### 存在的问题

 - 四个模块方法需要单独验证效果调整具体参数和各部分指标权重，需要不断实验调整；
 - 感觉对比学习这可以深挖一下，之前没有接触过，感觉效果可以；
 - 几何先验这没什么想法怎么做，先验信息怎么引入，因为要做多目标的任务。
 
## 现阶段效果

### 1.传统图像算法

(/2025/图像质量评估/img/1.bmp)(/2025/图像质量评估/img/2.bmp)
![输入图片说明](/2025/图像质量评估/img/3.bmp)

### 2.对比学习分级情况

**rank1**

![输入图片说明](/2025/图像质量评估/img/1-1.bmp)![输入图片说明](/2025/图像质量评估/img/1-2.bmp)
![输入图片说明](/2025/图像质量评估/img/1-3.bmp)

**rank2**

![输入图片说明](/2025/图像质量评估/img/2-1.bmp)![输入图片说明](/2025/图像质量评估/img/2-2.bmp)
![输入图片说明](/2025/图像质量评估/img/2-3.bmp)

**rank3**
![输入图片说明](/2025/图像质量评估/img/3-1.bmp)![输入图片说明](/2025/图像质量评估/img/3-2.bmp)
![输入图片说明](/2025/图像质量评估/img/3-3.bmp)

**rank4**
![输入图片说明](/2025/图像质量评估/img/4-1.bmp)![输入图片说明](/2025/图像质量评估/img/4-2.bmp)
![输入图片说明](/2025/图像质量评估/img/4-3.bmp)
